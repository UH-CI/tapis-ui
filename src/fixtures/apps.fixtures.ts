import { Apps } from '@tapis/tapis-typescript';

export const tapisApp: Apps.TapisApp = {
  tenant: "tacc",
  id: "bsf",
  version: "1",
  description:
    "Batch app with a singularity runtime that has an execSystemInputDir and file inputs",
  owner: "nathandf",
  enabled: true,
  runtime: Apps.RuntimeEnum.Singularity,
  runtimeVersion: undefined,
  runtimeOptions: [Apps.RuntimeOptionEnum.SingularityRun],
  containerImage: "docker://nathandf/hello-world:latest",
  jobType: Apps.JobTypeEnum.Batch,
  maxJobs: 0,
  maxJobsPerUser: 0,
  strictFileInputs: false,
  jobAttributes: {
    description: undefined,
    dynamicExecSystem: false,
    execSystemConstraints: [],
    execSystemId: "testuser2.execution",
    execSystemExecDir: "${JobWorkingDir}/jobs/${JobUUID}",
    execSystemInputDir: "${JobWorkingDir}/jobs/${JobUUID}/data",
    execSystemOutputDir: "${JobWorkingDir}/jobs/${JobUUID}/output",
    execSystemLogicalQueue: undefined,
    archiveSystemId: "testuser2.execution",
    archiveSystemDir: "${JobWorkingDir}/jobs/${JobUUID}/archive",
    archiveOnAppError: false,
    isMpi: false,
    mpiCmd: undefined,
    cmdPrefix: undefined,
    parameterSet: {
      appArgs: [],
      containerArgs: [],
      schedulerOptions: [],
      envVariables: [],
      archiveFilter: {
        includes: [],
        excludes: [],
        includeLaunchFiles: true,
      },
    },
    fileInputs: [
      {
        name: "Data file",
        description: undefined,
        inputMode: Apps.FileInputModeEnum.Required,
        autoMountLocal: true,
        sourceUrl: "tapis://testuser2.execution/data.txt",
        targetPath: "data.txt",
      },
    ],
    fileInputArrays: [],
    nodeCount: 1,
    coresPerNode: 1,
    memoryMB: 100,
    maxMinutes: 10,
    subscriptions: [],
    tags: [],
  },
  tags: [],
  notes: {},
  uuid: "5fffb735-9055-405b-a296-70153b0782a4",
  deleted: false,
  created: "2021-11-29T19:15:50.972041Z",
  updated: "2021-11-29T19:15:50.972041Z",
};

export const appsResponse: Apps.RespApps = {
  status: "success",
  message: "TAPIS_FOUND Apps found: 1 applications",
  version: "0.0.1-SNAPSHOT",
  result: [{ ...tapisApp }],
  metadata: {
    recordCount: 1,
    recordLimit: 100,
    recordsSkipped: 0,
    orderBy: undefined,
    startAfter: undefined,
    totalCount: 1,
  },
};
